<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="746.2px" preserveAspectRatio="none" style="width:1461px;height:746px;" version="1.1" viewBox="0 0 1461 746" width="1461.1999px" zoomAndPan="magnify"><defs><filter height="300%" id="fjp2q3e6z35g" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.5999999046325684"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.199999809265137" dy="5.199999809265137" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster Zookeeper Cluster--><rect fill="#FFFFFF" filter="url(#fjp2q3e6z35g)" height="105.3" style="stroke: #000000; stroke-width: 1.9499999284744263;" width="702" x="361.4" y="20.8"/><path d="M568.1,22.1 L568.1,32.8859 L555.1,45.8859 L361.4,45.8859 " fill="none" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><text fill="#000000" font-family="sans-serif" font-size="18.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193.7" x="365.3" y="38.9937">Zookeeper Cluster</text><!--cluster kafClust--><rect fill="#FFFFFF" filter="url(#fjp2q3e6z35g)" height="271.7" style="stroke: #000000; stroke-width: 1.9499999284744263;" width="1424.7999" x="18.2" y="136.5"/><path d="M169,137.8 L169,148.5859 L156,161.5859 L18.2,161.5859 " fill="none" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><text fill="#000000" font-family="sans-serif" font-size="18.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="137.8" x="22.1" y="154.6936">Kafka Cluster</text><!--cluster kaf1--><polygon fill="#FFFFFF" filter="url(#fjp2q3e6z35g)" points="28.6,184.6,41.6,171.6,718.9,171.6,718.9,257.4,705.9,270.4,28.6,270.4,28.6,184.6" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="705.9" x2="717.6" y1="184.6" y2="172.9"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="28.6" x2="705.9" y1="184.6" y2="184.6"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="705.9" x2="705.9" y1="184.6" y2="270.4"/><text fill="#000000" font-family="sans-serif" font-size="18.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75.4" x="330.85" y="205.3936">kafka-1</text><!--cluster kaf2--><polygon fill="#FFFFFF" filter="url(#fjp2q3e6z35g)" points="743.6,184.6,756.6,171.6,1432.5999,171.6,1432.5999,257.4,1419.5999,270.4,743.6,270.4,743.6,184.6" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="1419.5999" x2="1431.2999" y1="184.6" y2="172.9"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="743.6" x2="1419.5999" y1="184.6" y2="184.6"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="1419.5999" x2="1419.5999" y1="184.6" y2="270.4"/><text fill="#000000" font-family="sans-serif" font-size="18.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75.4" x="1045.2" y="205.3936">kafka-2</text><!--cluster mesClust--><rect fill="#FFFFFF" filter="url(#fjp2q3e6z35g)" height="313.3" style="stroke: #000000; stroke-width: 1.9499999284744263;" width="672.1" x="286" y="418.6"/><path d="M445.9,419.9 L445.9,430.6859 L432.9,443.6859 L286,443.6859 " fill="none" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><text fill="#000000" font-family="sans-serif" font-size="18.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146.9" x="289.9" y="436.7936">Mesos Cluster</text><!--cluster slave1--><polygon fill="#FFFFFF" filter="url(#fjp2q3e6z35g)" points="608.4,466.7,621.4,453.7,947.7,453.7,947.7,585,934.7,598,608.4,598,608.4,466.7" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="934.7" x2="946.4" y1="466.7" y2="455"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="608.4" x2="934.7" y1="466.7" y2="466.7"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="934.7" x2="934.7" y1="466.7" y2="598"/><text fill="#000000" font-family="sans-serif" font-size="18.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74.1" x="735.8" y="487.4936">slave-1</text><!--cluster docker1--><rect fill="#FFFFFF" filter="url(#fjp2q3e6z35g)" height="92.3" style="stroke: #000000; stroke-width: 1.9499999284744263;" width="130" x="653.9" y="495.3"/><text fill="#000000" font-family="sans-serif" font-size="18.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92.3" x="672.75" y="514.7936">docker-1</text><!--cluster docker2--><rect fill="#FFFFFF" filter="url(#fjp2q3e6z35g)" height="92.3" style="stroke: #000000; stroke-width: 1.9499999284744263;" width="130" x="807.3" y="495.3"/><text fill="#000000" font-family="sans-serif" font-size="18.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92.3" x="826.15" y="514.7936">docker-2</text><!--entity zoo1--><polygon fill="#FEFECE" filter="url(#fjp2q3e6z35g)" points="372.45,68.9,385.45,55.9,540.15,55.9,540.15,103.0859,527.15,116.0859,372.45,116.0859,372.45,68.9" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="527.15" x2="538.85" y1="68.9" y2="57.2"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="372.45" x2="527.15" y1="68.9" y2="68.9"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="527.15" x2="527.15" y1="68.9" y2="116.0859"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="115.7" x="391.95" y="98.7936">zookeeper-1</text><!--entity zoo2--><polygon fill="#FEFECE" filter="url(#fjp2q3e6z35g)" points="585.65,68.9,598.65,55.9,839.15,55.9,839.15,103.0859,826.15,116.0859,585.65,116.0859,585.65,68.9" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="826.15" x2="837.85" y1="68.9" y2="57.2"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="585.65" x2="826.15" y1="68.9" y2="68.9"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="826.15" x2="826.15" y1="68.9" y2="116.0859"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="201.5" x="605.15" y="98.7936">zookeeper-2  (master)</text><!--entity zoo3--><polygon fill="#FEFECE" filter="url(#fjp2q3e6z35g)" points="884.65,68.9,897.65,55.9,1052.35,55.9,1052.35,103.0859,1039.35,116.0859,884.65,116.0859,884.65,68.9" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="1039.35" x2="1051.05" y1="68.9" y2="57.2"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="884.65" x2="1039.35" y1="68.9" y2="68.9"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="1039.35" x2="1039.35" y1="68.9" y2="116.0859"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="115.7" x="904.15" y="98.7936">zookeeper-3</text><!--entity kaf3--><polygon fill="#FEFECE" filter="url(#fjp2q3e6z35g)" points="27.95,351,40.95,338,247.65,338,247.65,385.1859,234.65,398.1859,27.95,398.1859,27.95,351" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="234.65" x2="246.35" y1="351" y2="339.3"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="27.95" x2="234.65" y1="351" y2="351"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="234.65" x2="234.65" y1="351" y2="398.1859"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="167.7" x="47.45" y="380.8936">kafka-3 (controller)</text><!--entity kaf4--><polygon fill="#FEFECE" filter="url(#fjp2q3e6z35g)" points="293.8,351,306.8,338,410.8,338,410.8,385.1859,397.8,398.1859,293.8,398.1859,293.8,351" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="397.8" x2="409.5" y1="351" y2="339.3"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="293.8" x2="397.8" y1="351" y2="351"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="397.8" x2="397.8" y1="351" y2="398.1859"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="65" x="313.3" y="380.8936">kafka-4</text><!--entity kaf5--><polygon fill="#FEFECE" filter="url(#fjp2q3e6z35g)" points="456.3,351,469.3,338,573.3,338,573.3,385.1859,560.3,398.1859,456.3,398.1859,456.3,351" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="560.3" x2="572" y1="351" y2="339.3"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="456.3" x2="560.3" y1="351" y2="351"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="560.3" x2="560.3" y1="351" y2="398.1859"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="65" x="475.8" y="380.8936">kafka-5</text><!--entity follower1--><rect fill="#FEFECE" filter="url(#fjp2q3e6z35g)" height="47.1859" style="stroke: #000000; stroke-width: 1.9499999284744263;" width="250.9" x="85.15" y="213.2"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="224.9" x="98.15" y="243.0936">topic-A-partition-1-replica</text><!--entity leader1--><rect fill="#FEFECE" filter="url(#fjp2q3e6z35g)" height="47.1859" style="stroke: #000000; stroke-width: 1.9499999284744263;" width="326.3" x="381.55" y="213.2"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="300.3" x="394.55" y="243.0936">topic-B-partition-1-replica (leader)</text><!--entity follower2--><rect fill="#FEFECE" filter="url(#fjp2q3e6z35g)" height="47.1859" style="stroke: #000000; stroke-width: 1.9499999284744263;" width="252.2" x="1124.5" y="213.2"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="226.2" x="1137.5" y="243.0936">topic-B-partition-2-replica</text><!--entity leader2--><rect fill="#FEFECE" filter="url(#fjp2q3e6z35g)" height="47.1859" style="stroke: #000000; stroke-width: 1.9499999284744263;" width="325" x="754" y="213.2"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="299" x="767" y="243.0936">topic-A-partition-2-replica (leader)</text><!--entity slave2--><polygon fill="#FEFECE" filter="url(#fjp2q3e6z35g)" points="295.75,536.9,308.75,523.9,411.45,523.9,411.45,571.0859,398.45,584.0859,295.75,584.0859,295.75,536.9" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="398.45" x2="410.15" y1="536.9" y2="525.2"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="295.75" x2="398.45" y1="536.9" y2="536.9"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="398.45" x2="398.45" y1="536.9" y2="584.0859"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="63.7" x="315.25" y="566.7936">slave-2</text><!--entity slave3--><polygon fill="#FEFECE" filter="url(#fjp2q3e6z35g)" points="456.95,536.9,469.95,523.9,572.65,523.9,572.65,571.0859,559.65,584.0859,456.95,584.0859,456.95,536.9" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="559.65" x2="571.35" y1="536.9" y2="525.2"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="456.95" x2="559.65" y1="536.9" y2="536.9"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="559.65" x2="559.65" y1="536.9" y2="584.0859"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="63.7" x="476.45" y="566.7936">slave-3</text><!--entity slave4--><polygon fill="#FEFECE" filter="url(#fjp2q3e6z35g)" points="295.75,674.7,308.75,661.7,411.45,661.7,411.45,708.8859,398.45,721.8859,295.75,721.8859,295.75,674.7" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="398.45" x2="410.15" y1="674.7" y2="663"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="295.75" x2="398.45" y1="674.7" y2="674.7"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="398.45" x2="398.45" y1="674.7" y2="721.8859"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="63.7" x="315.25" y="704.5936">slave-4</text><!--entity slave5--><polygon fill="#FEFECE" filter="url(#fjp2q3e6z35g)" points="456.95,674.7,469.95,661.7,572.65,661.7,572.65,708.8859,559.65,721.8859,456.95,721.8859,456.95,674.7" style="stroke: #000000; stroke-width: 1.9499999284744263;"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="559.65" x2="571.35" y1="674.7" y2="663"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="456.95" x2="559.65" y1="674.7" y2="674.7"/><line style="stroke: #000000; stroke-width: 1.9499999284744263;" x1="559.65" x2="559.65" y1="674.7" y2="721.8859"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="63.7" x="476.45" y="704.5936">slave-5</text><!--entity service1--><rect fill="#FEFECE" filter="url(#fjp2q3e6z35g)" height="47.1859" style="stroke: #A80036; stroke-width: 1.9499999284744263;" width="107.9" x="664.95" y="530.4"/><rect fill="#FEFECE" height="6.5" style="stroke: #A80036; stroke-width: 1.9499999284744263;" width="13" x="658.45" y="536.9"/><rect fill="#FEFECE" height="6.5" style="stroke: #A80036; stroke-width: 1.9499999284744263;" width="13" x="658.45" y="564.5859"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="81.9" x="677.95" y="560.2936">service-1</text><!--entity service2--><rect fill="#FEFECE" filter="url(#fjp2q3e6z35g)" height="47.1859" style="stroke: #A80036; stroke-width: 1.9499999284744263;" width="107.9" x="818.35" y="530.4"/><rect fill="#FEFECE" height="6.5" style="stroke: #A80036; stroke-width: 1.9499999284744263;" width="13" x="811.85" y="536.9"/><rect fill="#FEFECE" height="6.5" style="stroke: #A80036; stroke-width: 1.9499999284744263;" width="13" x="811.85" y="564.5859"/><text fill="#000000" font-family="sans-serif" font-size="18.2" lengthAdjust="spacingAndGlyphs" textLength="81.9" x="831.35" y="560.2936">service-2</text><!--link zoo1 to zoo2--><!--link zoo2 to zoo3--><!--link zoo1 to kaf1--><!--link zoo1 to kaf2--><!--link kaf1 to kaf3--><!--link kaf1 to kaf4--><!--link kaf1 to kaf5--><!--link slave1 to slave2--><!--link slave2 to slave3--><!--link slave2 to slave4--><!--link slave3 to slave5--><!--link kaf3 to slave2--><!--link leader1 to service1--><path d="M686.4,260.4416 C686.4,319.3699 686.4,471.3507 686.4,530.1145 " fill="none" id="leader1-service1" style="stroke: #A80036; stroke-width: 2.5999999046325684;"/><!--link leader2 to service1--><path d="M763.425,260.4416 C763.425,319.3699 763.425,471.3507 763.425,530.1145 " fill="none" id="leader2-service1" style="stroke: #A80036; stroke-width: 2.5999999046325684;"/><!--link leader2 to service2--><path d="M872.3,260.4416 C872.3,319.3699 872.3,471.3507 872.3,530.1145 " fill="none" id="leader2-service2" style="stroke: #A80036; stroke-width: 2.5999999046325684;"/><!--
@startuml
skinparam linetype ortho

frame "Zookeeper Cluster" {
  node "zookeeper-1" as zoo1
  node "zookeeper-2  (master)" as zoo2
  node "zookeeper-3" as zoo3

  zoo1 -[hidden]right- zoo2
  zoo2 -[hidden]right- zoo3
}

zoo1 -[hidden]- kaf1
zoo1 -[hidden]- kaf2

frame "Kafka Cluster" as kafClust {
  node "kafka-1" as kaf1 {
    rectangle "topic-A-partition-1-replica" as follower1
    rectangle "topic-B-partition-1-replica (leader)" as leader1
  }
  node "kafka-2" as kaf2 {
    rectangle "topic-B-partition-2-replica" as follower2
    rectangle "topic-A-partition-2-replica (leader)" as leader2
  }
  node "kafka-3 (controller)" as kaf3
  node "kafka-4" as kaf4
  node "kafka-5" as kaf5

  kaf1 -[hidden]down- kaf3
  kaf1 -[hidden]down- kaf4
  kaf1 -[hidden]down- kaf5
}

frame "Mesos Cluster" as mesClust {
  node "slave-1" as slave1 {
    rectangle "docker-1" as docker1 {
      component "service-1" as service1
    }
    rectangle "docker-2" as docker2 {
      component "service-2" as service2
    }
  }
  node "slave-2" as slave2
  node "slave-3" as slave3
  node "slave-4" as slave4
  node "slave-5" as slave5

  slave1 -[hidden]right- slave2
  slave2 -[hidden]right- slave3
  slave2 -[hidden]down- slave4
  slave3 -[hidden]down- slave5

}

kaf3 -[hidden]- slave2

leader1 == service1
leader2 == service1
leader2 == service2

@enduml

PlantUML version 1.2018.11(Sat Sep 22 18:43:53 CEST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1248-b22
Operating System: Linux
OS Version: 4.15.0-38-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>